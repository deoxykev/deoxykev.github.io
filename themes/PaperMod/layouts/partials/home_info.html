{{ $_hugo_config := `{ "version": 1 }` }}
{{- with $.Site.Params.homeInfoParams }}
<article class="first-entry home-info">
    <header class="entry-header">
        {{- if .typeIt }}
          <h1 id="typeit"></h1>
          <script src="/js/typeit.min.js"></script>

          <script>
            new TypeIt("#typeit", {
              lifelike: true,
              cursorChar: '<span style="color: grey; opacity: 70%">‚ñê</span>',
              //cursorChar: "_",
              waitUntilVisible: true,
            })
            .type("Adventures in computing", {delay: 300})
            .pause(500)
            .type('.')
            .exec(async () => {
                //-- Return a promise that resolves after something happens.
                await new Promise((resolve, reject) => {
                    if (document.querySelector('#top').getAttribute('class').includes('dark')) {
                      return resolve()
                    }
                    document.querySelector('#theme-toggle').onclick = () => {
                      return resolve();
                    }
                });
              })
            .move(-5, {speed: 100})
            .move(-18, {speed: 20})
            .pause(400)
            .delete(1)
            .pause(400)
            .type('(')
            .pause(200)
            .type('mis', {speed: 300})
            .pause(800)
            .type(')')
            .pause(200)
            .type('a')
            .pause(1000)
            .move('END', {speed: 1})
            .pause(1000)
            .go();

          </script>
        {{- else }}
          <h1>{{ .Title | markdownify }}</h1>
        {{- end }}
    </header>
    <section class="entry-content">
        <p>{{ .Content | markdownify }}</p>
    </section>
    <footer class="entry-footer">
        {{ partial "social_icons.html" $.Site.Params.socialIcons }}
    </footer>
</article>
{{- end -}}
